# 元素渲染

## 目录

[特点](#jump1)

[将元素渲染到 DOM 中](#jump2)

[更新元素渲染](#jump3)

[两种类型组件的渲染](#jump4)

---	

<span id="jump1"></span>

## 特点

- 元素是构成 React 应用的最小单位，它用于描述屏幕上输出的内容

- 与浏览器的 DOM 元素不同，React 当中的元素事实上是普通的对象，React DOM 可以确保 浏览器 DOM 的数据内容与 React 元素保持一致

---

<span id="jump2"></span>

## 将元素渲染到 DOM 中

- 我们用 React 开发应用时一般只会定义一个根节点

- 但如果你是在一个已有的项目当中引入 React 的话，你可能会需要在不同的部分单独定义 React 根节点

- 要将React元素渲染到根DOM节点中，我们通过把它们都传递给 ReactDOM.render() 的方法来将其渲染到页面上：

```javascript
const element = <h1>Hello, world!</h1>;
ReactDOM.render(
    element,
    document.getElementById('example')
);
```

---

<span id="jump3"></span>

## 更新元素渲染

### 特点

- React 元素都是不可变的，当元素被创建之后，你是无法改变其内容或属性的

- 目前更新界面的唯一办法是创建一个新的元素，然后将它传入 ReactDOM.render() 方法

```javascript
function tick() {
  const element = (
    <div>
      <h1>Hello, world!</h1>
      <h2>现在是 {new Date().toLocaleTimeString()}.</h2>
    </div>
  );
  ReactDOM.render(
    element,
    document.getElementById('example')
  );
}
 
setInterval(tick, 1000);
```

以上实例通过 setInterval() 方法，每秒钟创建一个新元素并传给 ReactDOM.render()进行渲染

### React 只会更新必要的部分

值得注意的是 React DOM 首先会比较元素内容先后的不同，而在渲染过程中只会更新改变了的部分

---

<span id="jump4"></span>

## 两种类型组件的渲染

### 函数式组件

我们可以将要展示的部分封装起来

```javascript
function Clock(props) {
  return (
    <div>
      <h1>Hello, world!</h1>
      <h2>现在是 {props.date.toLocaleTimeString()}.</h2>
    </div>
  );
}
 
function tick() {
  ReactDOM.render(
    <Clock date={new Date()} />,
    document.getElementById('example')
  );
}
 
setInterval(tick, 1000);
```

### 类组件

除了函数外我们还可以创建一个 React.Component 的 ES6 类，该类封装了要展示的元素

需要注意的是在 render() 方法中，需要使用 this.props 替换 props

```javascript
class Clock extends React.Component {
  render() {
    return (
      <div>
        <h1>Hello, world!</h1>
        <h2>现在是 {this.props.date.toLocaleTimeString()}.</h2>
      </div>
    );
  }
}
 
function tick() {
  ReactDOM.render(
    <Clock date={new Date()} />,
    document.getElementById('example')
  );
}
 
setInterval(tick, 1000);
```
